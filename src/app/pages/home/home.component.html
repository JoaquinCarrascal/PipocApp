<app-nav-bar></app-nav-bar>

<div id="este" class="container-fluid row mt-4 align-items-center">
  <div class="col-auto pt-1 d-flex" style="position: relative; left:10px;" >
    <h3 style="color:white; font-size: 20pt;position:relative; top:3px;" class="">Tendencias de <span class="colored-aqua">{{thisYear}}</span></h3>
    <div class="d-flex" style="position: relative; top:-2px; left:6px;">
      <svg xmlns="http://www.w3.org/2000/svg" height="35px" viewBox="0 -960 960 960" width="35px" fill="#00ffae"><path d="M160-400q0-115 70-222.33Q300-729.67 422.33-807q18.67-12.33 38.17-.83t19.5 34.5V-708q0 34 23.5 57t57.5 23q17.67 0 33.17-7.5t27.5-22.17q8-9.33 18.83-12.5 10.83-3.16 20.5 3.5 65 45 102 115.67t37 151q0 92.67-47 167.83Q706-157 629.33-117q21-25.33 32.5-56.17 11.5-30.83 11.5-64.83 0-38.67-14.33-72.83-14.33-34.17-41.67-61.5L480-506.67 343.67-372.33q-28.34 27.66-42.67 61.66-14.33 34-14.33 72.67 0 34 11.5 64.83 11.5 30.84 32.5 56.17Q254-157 207-232.17 160-307.33 160-400Zm320-13.33 89.67 87.66q17.66 17.67 27.33 40 9.67 22.34 9.67 47.67 0 51.67-37 88.17T480-113.33q-52.67 0-89.67-36.5t-37-88.17q0-25 9.34-47.5 9.33-22.5 27.66-40.17L480-413.33Z"/></svg>
    </div>
  </div>
  <div id="secondFilter" class="col-auto filter-switch-second align-content-center pt-1 d-flex" style="position: relative; left:10px;">
    <input checked="" id="option7" name="options-second" type="radio" (click)="swapPopular(0)" />
    <label class="option-second" for="option7" class="d-flex" style="left:20px;">Películas</label>
    <input id="option8" name="options-second" type="radio" (click)="swapPopular(1)" />
    <label class="option-second" for="option8" class="d-flex" style="left:50px;">Series</label>
    <span class="background-second"></span>
  </div>
  <div class="col-auto ms-auto align-content-center pt-1 d-flex" style="position: relative;right:50px;">

    @if(swapperTvMovie == 0){
    <a [routerLink]="['/movie-list']" class="d-flex" style="text-decoration: none;">
      <h3 class="" style="color:white; font-size: 20pt;">
      Ver <span class="colored-aqua">más</span>...</h3>
      <span class="material-symbols-rounded">
        <svg xmlns="http://www.w3.org/2000/svg" height="35px" viewBox="0 -960 960 960" width="35px" fill="#00ffae"><path d="M292-247.33v-469.34q0-24 15.71-38.5 15.72-14.5 36.34-14.5 6.8 0 14.21 1.67 7.41 1.67 14.66 5.95l369.41 236.38q11.67 7.67 18 19.17 6.34 11.5 6.34 24.5t-6.34 24.5q-6.33 11.5-18 19.17L372.92-201.95q-7.25 4.28-14.68 5.62Q350.81-195 344-195q-20.67 0-36.33-14.02Q292-223.03 292-247.33Z"/></svg>
      </span>
    </a>
    }
    @else{
      <a [routerLink]="['/series']" class="d-flex" style="text-decoration: none;">
        <h3 class="" style="color:white; font-size: 20pt;">
        Ver <span class="colored-aqua">más</span>...</h3>
        <span class="material-symbols-rounded">
          <svg xmlns="http://www.w3.org/2000/svg" height="35px" viewBox="0 -960 960 960" width="35px" fill="#00ffae"><path d="M292-247.33v-469.34q0-24 15.71-38.5 15.72-14.5 36.34-14.5 6.8 0 14.21 1.67 7.41 1.67 14.66 5.95l369.41 236.38q11.67 7.67 18 19.17 6.34 11.5 6.34 24.5t-6.34 24.5q-6.33 11.5-18 19.17L372.92-201.95q-7.25 4.28-14.68 5.62Q350.81-195 344-195q-20.67 0-36.33-14.02Q292-223.03 292-247.33Z"/></svg>
        </span>
      </a>
    }
  </div>
</div>
<div class="container-fluid row justify-content-around mt-0 mb-4 movie-container" style="top:-100px; margin:0 auto;">
    
  @if(swapperTvMovie == 0){
    @for(item of popularList; track item){

      <div class="movie-card col-1 mt-0 movie-card-resizing" style="top: 16px;">
      <!-- <circle-progress
          class="bg-light rounded-circle"
          [percent]=punctFormater(item.vote_average)
          [radius]="20"
          [titleFontSize]="'17'"
          [outerStrokeWidth]="5"
          style="position: relative; top: 22px;right: -125px;z-index: 1;"
          ></circle-progress> -->

        <!-- <div class="card-img" [style.background-image]="'url(' + getImageUrl(item.poster_path , 200) + ')'"></div> -->
        @if(item.poster_path){
        <a [routerLink]="['/details-movie/' , item.id]">
          <img class="card-img resizing-img" [src]="getImageUrl(item.poster_path , 200)" alt="" width="150px">
        </a>
        }
        <p class="text-light text-truncate mt-2" style="font-size: 13pt;">
          {{item.title}}
        </p>
        <p class="text-truncate colored-aqua" style="font-size: 13pt; margin-top: -15px;">
          {{dateFormater(item.release_date)}}
        </p>
      </div>

    }
  }
  @else{
    @for(item of popularListTv; track item){

      <div class="movie-card col-1 mt-0 movie-card-resizing" style="top: 16px;">

        <a [routerLink]="['/series/details', item.id]">
          <img class="card-img resizing-img" [src]="getImageUrl(item.poster_path , 200)" alt="" width="150px">
        </a>
        
        <p class="text-light text-truncate mt-2" style="font-size: 13pt;">
          {{item.name}}
        </p>
        <p class="text-truncate colored-aqua" style="font-size: 13pt; margin-top: -15px;">
          {{dateFormater(item.first_air_date)}}
        </p>
      </div>

    }
  }
</div>

<h3 style="margin-bottom: 0px;" style="color:white; font-size: 20pt;" class="mb-0 m-4"><span class="colored-aqua">Top 5</span> películas <span class="colored-aqua">gratis</span> mejor valoradas 
  <span class="material-symbols-rounded">
    <svg xmlns="http://www.w3.org/2000/svg" height="35px" viewBox="0 -960 960 960" width="35px" fill="#00ffae"><path d="M360-360H223.33q-20 0-29.5-17.83-9.5-17.84 2.5-34.5l325-468.67q8.67-12 22-16.5 13.34-4.5 27 .83 13.67 5.34 21 17.67 7.34 12.33 5.34 26.67L560-560h169q21.33 0 30.17 19 8.83 19-4.84 35.67l-357 428q-9 11-22.66 14.33-13.67 3.33-26-2.33-12.34-5.67-19.5-17.84-7.17-12.16-5.17-26.5L360-360Z"/></svg>
  </span>
</h3>
<div class="container-fluid row justify-content-around mt-0 mb-4 movie-container"
style="top:-200px;">
    
  @for(item of topRatedList; track item){

    <div class="movie-card col-2 mt-0" style="margin-top: 0px;">
      <circle-progress
        class="bg-light rounded-circle"
        [percent]=punctFormater(item.vote_average)
        style="position: relative; top: 30px;right: -160px;z-index: 1;"
        ></circle-progress>

      @if(item.poster_path){
        <a [routerLink]="['/details-movie/' , item.id]">
          <div class="card-img" [style.background-image]="'url(' + getImageUrl(item.poster_path , 200) + ')'"></div>
        </a>
      }

      <p class="text-light text-truncate mt-2" style="font-size: 13pt;">
        {{item.title}}
      </p>
      <p class="text-truncate colored-aqua" style="font-size: 13pt; margin-top: -15px;">
        {{dateFormater(item.release_date)}}
      </p>
    </div>

  }
</div>


<div class="container-fluid row mt-4 align-items-center">
  <div class="col-auto pt-1 d-flex">
    <h3 style="color:white; font-size: 20pt; position:relative; top:-15px;" 
        class="mb-0 m-4 align-content-center justify-content-center"><span class="colored-aqua">Tendencias</span> en series según <span class="colored-aqua">género </span></h3>
    <div class="d-flex" style="position: relative; top:8px; left:-8px;">
      <svg xmlns="http://www.w3.org/2000/svg" height="35px" viewBox="0 -960 960 960" width="35px" fill="#00ffae"><path d="M33.33-240q-14.16 0-23.75-9.58Q0-259.17 0-273.33v-23q0-40.05 42.33-65.19 42.34-25.15 111.25-25.15 12.45 0 23.93.5 11.49.5 22.49 2.27-10 18.57-15 38.11-5 19.55-5 40.79v65H33.33Zm240 0q-14.16 0-23.75-9.58-9.58-9.59-9.58-23.75V-305q0-32 17.5-58.5T307-410q32-20 76.5-30t96.5-10q53 0 97.5 10t76.5 30q32 20 49 46.5t17 58.5v31.67q0 14.16-9.58 23.75-9.59 9.58-23.75 9.58H273.33ZM780-240v-65q0-21.91-4.5-41.29t-14.17-37.56q11-1.82 22.28-2.32 11.29-.5 23.06-.5 69 0 111.16 24.68Q960-337.31 960-296.33v23q0 14.16-9.58 23.75-9.59 9.58-23.75 9.58H780ZM153.04-420q-30.04 0-51.54-21.54T80-493.33q0-30.67 21.54-52 21.54-21.34 51.79-21.34 30.67 0 52 21.34 21.34 21.33 21.34 52.29 0 30.04-21.34 51.54Q184-420 153.04-420Zm653.34 0q-30.05 0-51.55-21.54-21.5-21.54-21.5-51.79 0-30.67 21.55-52 21.54-21.34 51.79-21.34 30.66 0 52 21.34Q880-524 880-493.04q0 30.04-21.33 51.54-21.34 21.5-52.29 21.5ZM480-480q-50 0-85-35t-35-85q0-51 35-85.5t85-34.5q51 0 85.5 34.5T600-600q0 50-34.5 85T480-480Z"/></svg>
    </div>
  </div>
  <div id="firstFilter" class="filter-switch col-auto">
    <input checked="" id="option1" name="options" type="radio" (click)="swapTvGenre(10759)" />
    <label class="option mt-1 d-flex" style="left:40px;" for="option1">Acción</label>
    <input id="option2" name="options" type="radio" (click)="swapTvGenre(10765)" />
    <label class="option mt-1" for="option2">Ciencia ficción</label>
    <input id="option3" name="options" type="radio" (click)="swapTvGenre(35)" />
    <label class="option mt-1 d-flex" style="right:-52px;" for="option3">Comedia</label>
    <span class="background"></span>
  </div>
  <div class="col-auto ms-auto align-content-center pt-1 d-flex" style="position: relative;right:50px;">
    <a [routerLink]="['/series']" class="d-flex" style="text-decoration: none;">
      <h3 class="" style="color:white; font-size: 20pt;">Ver <span class="colored-aqua">más</span>...</h3>
      <span class="material-symbols-rounded">
        <svg xmlns="http://www.w3.org/2000/svg" height="35px" viewBox="0 -960 960 960" width="35px" fill="#00ffae"><path d="M292-247.33v-469.34q0-24 15.71-38.5 15.72-14.5 36.34-14.5 6.8 0 14.21 1.67 7.41 1.67 14.66 5.95l369.41 236.38q11.67 7.67 18 19.17 6.34 11.5 6.34 24.5t-6.34 24.5q-6.33 11.5-18 19.17L372.92-201.95q-7.25 4.28-14.68 5.62Q350.81-195 344-195q-20.67 0-36.33-14.02Q292-223.03 292-247.33Z"/></svg>
      </span>
    </a>
  </div>
</div>
<div class="container-fluid row justify-content-around mt-0 mb-4 movie-container" style="top:-100px; margin:0 auto;">
    
    @for(item of popularListTvGenre; track item){

      <div class="movie-card col-1 mt-0 movie-card-resizing" style="top: 16px;">
      
        <a [routerLink]="['/series/details', item.id]">
          <img class="card-img resizing-img" [src]="getImageUrl(item.poster_path , 200)" alt="" width="150px">
        </a>

        <p class="text-light text-truncate mt-2" style="font-size: 13pt;">
          {{item.name}}
        </p>
        <p class="text-truncate colored-aqua" style="font-size: 13pt; margin-top: -15px;">
          {{dateFormater(item.first_air_date)}}
        </p>
      </div>

    }

</div>

