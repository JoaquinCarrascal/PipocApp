<app-nav-bar></app-nav-bar>


<div class="container-fluid">
    <div class="row">
        <!-- Sidebar de filtros -->
        <aside class="col-md-2 mb-4 py-5">
            <div class="card p-3" style="border-radius: 10px; background-color: #e3f2fd;">
                <h4 class="text-center mb-3">Ordenar</h4>
                
                <select class="form-select mb-2" id="ordenSalida" style="border: 2px solid hsl(205, 74%, 14%); border-radius: 100px;">
                   
                    @for (valor of valoresFiltroFecha; track valor) {
                        <option [value]="valor.name">{{ valor.name }}</option>
                    }
                </select>
                <div>
                    <h4 class="text-center mb-3">Filtros</h4>
                </div>
                <div class="row mb-2">
                    <div class="col-auto"   >
                        <label for="fechaDesde" class="form-label py-2">Desde</label>
                    </div>
                    <div class="col">
                        <input type="date" class="form-control" id="fechaDesde" placeholder="Desde" style="border: 2px solid hsl(205, 74%, 14%); border-radius: 100px;">
                    </div>
                </div>
                
                <div class="row mb-3">
                    <div class="col-auto">
                        <label for="fechaHasta" class="form-label py-2">Hasta</label>
                    </div>
                    <div class="col">
                        <input type="date" class="form-control" id="fechaHasta" placeholder="Hasta" style="border: 2px solid hsl(205, 74%, 14%); border-radius: 100px;">
                    </div>
                </div>
                
                <div class="form-check mb-3">
                    <input type="checkbox" class="form-check-input" id="soloGratuitas" checked style="border-radius: 100px;">
                    <label class="form-check-label" for="soloGratuitas">Solo gratuitas</label>
                </div>
                
                <label for="puntuacion" class="form-label">Por puntuación</label>
                <input type="range" class="form-range mb-3" min="0" max="100" id="puntuacion" style="border-radius: 100px;">
                
                <input type="text" class="form-control mb-3" placeholder="Buscar por nombre" style="border: 2px solid hsl(205, 74%, 14%); border-radius: 100px;">
                
                <button (click)="doFilter()" class="btn w-100" style="background-color: hsl(205, 74%, 14%); color: white; border-radius: 100px;">Enviar</button>
            </div>
        </aside>

        <!-- Sección principal de series -->
        <section class="container-fluid col-md-9">
            <h1 class="text-center px-1 text-white">Populares <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#00ffae"><path d="M156.41-400q0-115.68 71.5-225.2 71.5-109.52 196.74-187.47 19.15-12.44 39.05-.68 19.89 11.75 19.89 35.74v69.5q0 32.52 22.46 54.52t54.95 22q17.28 0 32.18-7.25 14.9-7.25 26.43-21.79 8.45-9.88 19.54-13.54 11.09-3.66 21.05 2.82 66.98 46.2 105.19 117.92 38.2 71.71 38.2 153.33 0 95.68-49 172.66-49 76.98-129.24 116.59 23.79-26.42 36.61-59.37 12.82-32.95 12.82-68.88 0-39.16-14.36-73.46-14.35-34.31-42.02-61.94L480-509.65 342.89-374.54q-28.72 27.71-43.07 62.1-14.36 34.38-14.36 73.39 0 35.81 12.7 68.79 12.7 32.97 36.49 59.41-80.24-39.61-129.24-116.59-49-76.98-49-172.56ZM480-414.17l89.61 87.81q17.52 17.56 27.16 39.88 9.64 22.33 9.64 47.28 0 51.51-36.96 87.97-36.97 36.45-89.49 36.45-52.53 0-89.45-36.45-36.92-36.46-36.92-87.97 0-25.04 9.25-47.35 9.26-22.32 27.79-39.78L480-414.17Z"/></svg></h1>
            <div class="row justify-content-center align-content-center mx-auto">
                @for (serie of listaSeries; track serie) {
                    <div class="col-6 col-md-4 col-lg-2 mb-4">
                        <div class="card" style="background-color: transparent; border: none; height: 100%;">
                            <div>
                                <circle-progress
                                class="bg-light rounded-circle"
                                [percent]=punctFormater(serie.vote_average)
                                style="position: relative; top: 30px; right: -160px; z-index: 1;"
                                ></circle-progress>
                            </div>
                            <div class="position-relative" style="border-radius: 10px; overflow: hidden;">
                                <img [src]="serie.poster_path ? obtenerImagenSerie(400, serie.poster_path) : 'assets/placeholder.svg'"
                                     class="img-fluid" style="border-radius: 10px; width: 100%; height: 400px; object-fit: cover;">
                            </div>
                            <div class="mt-2">
                                <h6 class="text-truncate mb-0 text-white">{{ serie.name }}</h6>
                                <small class="fecha">{{ serie.first_air_date }}</small>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </section>
    </div>
</div>
